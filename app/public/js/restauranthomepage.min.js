webpackJsonp([4],{0:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var l=a(7),n=r(l),s=React.createFactory(n["default"]);ReactDOM.render(s(__data),document.getElementById("restaurant-mount"))},7:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),n=r(l),s=a(8),u=r(s),o=n["default"].createClass({displayName:"RestaurantPage",getInitialState:function(){return{filter:!1}},handleSort:function(e){e.preventDefault();var t=e.target.value;console.log(t),"newest"===t?window.location="/":window.location=window.location+"?sort="+t},handleFilter:function(e){e.preventDefault();var t=this.state;t.filter=Number(e.target.value),console.log(t),this.setState(t)},getAverageReviews:function(e){if(0===e.length)return[{stars:0}];var t=e.reduce(function(e,t){return e.stars+t.stars}),a=Math.floor(t/e.length)>1?Math.floor(t/e.length):1;return[{stars:a}]},hideByFilter:function(e){if(this.state.filter===!1)return!1;var t=this.getAverageReviews(e),a=t[0].stars!==this.state.filter;return console.log(t[0].stars,this.state.filter,a),a},getNumberOfReviews:function(e){return 1===e||0===e?e+" review":e+" reviews"},render:function(){var e=this,t=this.props.data.map(function(t,a){var r=t.reviews.length,l="restaurant-stars restaurant-stars-"+r,s=a+2,o=e;return n["default"].createElement("article",{className:"restaurant-container row",key:"abc"+a,hidden:o.hideByFilter(t.reviews)},n["default"].createElement("div",{className:"col-md-7",tabIndex:s},n["default"].createElement("a",{href:"/r/"+t._id},n["default"].createElement("img",{src:t.images,className:"image-border",alt:t.name+" main picture",title:t.name+" main picture"}))),n["default"].createElement("aside",{className:"col-md-4"},n["default"].createElement("h2",{className:"restaurant-header"},n["default"].createElement("a",{href:"/r/"+t._id},t.name)),n["default"].createElement("div",{className:"cb"},(0,u["default"])(o.getAverageReviews(t.reviews))),n["default"].createElement("p",{className:l},e.getNumberOfReviews(r)),n["default"].createElement("p",{className:"restaurantHours"},t.hours),n["default"].createElement("address",null,n["default"].createElement("a",{href:"https://maps.google.com?q="+t.address,target:"_blank"},t.address," ( Directions )")),n["default"].createElement("p",{className:"restaurant-description"},t.description,n["default"].createElement("a",{href:"/r/"+t._id},"Learn more"))))});return n["default"].createElement("section",null,n["default"].createElement("div",{className:"bg-success padding mb bg-info row"},n["default"].createElement("form",{className:"form-inline pull-right",role:"form"},n["default"].createElement("label",{forHtml:"sort",className:"mr"},"Sort by: "),n["default"].createElement("select",{name:"sort",onChange:this.handleSort,className:"form-control mr",defaultValue:"default",tabIndex:"1"},n["default"].createElement("option",{value:"default"},"Select Option"),n["default"].createElement("option",{value:"newest"},"Newest Restaurant"),n["default"].createElement("option",{value:"name"},"Name of Restaurant")),n["default"].createElement("label",{forHtml:"filterbyreview",className:"mr"},"Filter by Rating: "),n["default"].createElement("select",{name:"filterbyreview",onChange:this.handleFilter,className:"form-control",defaultValue:"default",tabIndex:"1"},n["default"].createElement("option",{value:"default"},"Select Rating"),n["default"].createElement("option",{value:"5"},"Five Star only"),n["default"].createElement("option",{value:"4"},"Four Star only"),n["default"].createElement("option",{value:"3"},"Three Star only"),n["default"].createElement("option",{value:"2"},"Two Star only"),n["default"].createElement("option",{value:"1"},"One Star only")))),n["default"].createElement("ul",null,t))}});t["default"]=o},8:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e){var t=e.map(function(e,t){for(var a=[],r=5-e.stars,l=-1,n=-1;++l<e.stars;)a.push(s["default"].createElement("span",{className:"review-star",key:"b"+l}));for(;++n<r;)a.push(s["default"].createElement("span",{className:"review-star review-star-gray",key:"a"+n}));return a});return t}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),s=r(n);t["default"]=l}});